SELECT JSON_SET(Priv, '$.locked', 'true') FROM mysql.global_priv

update gameData set j = JSON_SET(j, '$.carrying', 'u7') where name = 'u12';
update gameData set j = JSON_SET(j, '$.carried', 'u12') where name = 'u7';


select JSON_VALUE(j, '$.frontData[12]') from gameData where name = 'u7';


select *
from gameData where name = 'u12';







alter table unitData add column (
	L int
);

update gameData
set j = JSON_REPLACE(j, '$.hexLoc[0]', 1, '$.hexLoc[1]', 1)
where name = 'u1';


update gameData
set j = JSON_REPLACE(j, '$.hexLoc[0]', 2, '$.hexLoc[1]', 2)
where name = 'u2';


update gameData
set j = JSON_REPLACE(j, '$.hexLoc[0]', 3, '$.hexLoc[1]', 3)
where name = 'u4';





select * 
from units
where
formation = '2/130'
and
name = 'Fallschirmjager'

;



RITTES REICH,2/130;SdKfz 250
u6







create table gameData (
	scenario varchar(80),
	name varchar(80),
	val varchar(256),
	html varchar(512),
	j json
	CHECK (JSON_VALID(j))
);









select * from v_unit_back_data
union
select * from v_unit_front_data







update unitData
set
Ar = 10, 
Ab = 0,
Br = 0, 
Bw = 8, 
C = 3, 
Dw = 4, 
Dy = 0, 
Er = 19, 
Eb = 0, 
Ey = 0, 
F = 7, 
G = 0, 
H = 0,
I = 0,
J = 0,
K = 0 
where
name = 'T-62'
and
side = 'back';









LOAD DATA LOCAL INFILE 'Unit-data.csv' INTO TABLE unitData
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
(name,side,Ar,Ab,Br,Bw,C,Dw,Dy,Er,Eb,Ey,F,G,H,I,J,K);

create table unitData (
	name varchar(80),
	side varchar(80),
	Ar int,
	Ab int,
	Br int,
	Bw int,
	C int,
	Dw int,
	Dy int,
	Er int,
	Eb int,
	Ey int,
	F int,
	G int,
	H int,
	I int,
	J int,
	K int
);

"name","side","Ar","Ab","Br","Bw","C","Dw","Dy","Er","Eb","Ey","F","G"



drop view v_units;
create view v_units as
select a.id, a.name, a.formation, front, back
from v_unit_front a, v_unit_back b
where a.id = b.id;











create view v_unit_front as
select b.id, b.name, b.formation, a.name front
from images a, units b
where
a.id = front
limit 5;


create view v_unit_back as
select b.id, b.name, b.formation, a.name back
from images a, units b
where
a.id = back
limit 5;




create table units (
	id INT PRIMARY KEY,
	name varchar(80),
	formation varchar(80),
	front int,
	back int
);




LOAD DATA LOCAL INFILE 'Units.csv' INTO TABLE units
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
(id, name, formation, front, back);








https://vassalengine.org/wiki/Module:Nuklear_Winter_%2768

create table images (
	name varchar(80),
	UNIQUE KEY name (name)
);



LOAD DATA LOCAL INFILE '/home/ayeka/xxx/Panzer/images.txt'
INTO TABLE images;




alter table images add column (
	type varchar(80)
);

alter table images add column (
	country varchar(80)
);

alter table images add column (
	formation varchar(80)
);



alter table images
	add column 
	id int
	first
;

create sequence s1;
update images set id = nextval(s1);











alter table images add column (

);












update images set type = 'map' where name regexp '^Panzer[0-9]';




FrontFiringArc.png
update images set type = 'marker' where name = 'FrontFiringArc.png';

TurnTrack.jpg
update images set type = 'tableau' where name = 'TurnTrack.jpg';



